{%load static%}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400&family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
    <link
      href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"
      rel="stylesheet"
    />

    <!-- Customized Bootstrap Stylesheet -->

    {% load bootstrap5 %} {% bootstrap_css %} {% bootstrap_javascript %}
    <!-- <link href="{%static 'css/style.min.css' %}" rel="stylesheet" /> -->
    <link href="{%static 'css/style.css' %}" rel="stylesheet" />
    <title>Cart</title>
  </head>
  <style>
    #img {
      border-radius: 50%;
    }
    .hr {
      background: #da9f5b;
      width: 100%;
      height: 3px;
    }
    .checkout {
      height: 75%;
      width: 30%;
      background: #da9f5b;
      position: absolute;
      border: 10px solid rgb(61, 19, 0);
      top: 10%;
      right: 3%;
      position: fixed;
    }
    .price {
      position: absolute;
      right: 1%;
    }
    .qty {
      text-align: center;
    }
    #but {
      display: none;
    }
    nav {
      background: rgb(61, 19, 0);
      color: white;
      height: 70px;
      display: flex;
      justify-content: center;
      font-size: 25px;
      font-weight: 600;
      position: fixed;
      width: 100%;
    }
    #home {
      position: absolute;
      left: 2%;
    }
    .user-icon {
      display: block;
      position: fixed;
      top: 70%;
      right: 2%;
      height: 50px;
      width: 50px;
      border-radius: 50%;
      background-color: rgb(74, 10, 10);
      z-index: 1;
      align-items: center;
      justify-content: center;
      display: flex;
    }
    .user-icon {
      top: 79%;
    }
    @media (min-width: 451px) and (max-width: 700px) {
      nav {
        height: 50px;
      }
      .user-icon {
        display: hidden;
      }
      .checkout {
        height: 50%;
        width: 40%;
        background: #da9f5b;
        position: absolute;
        border: 8px solid #3d1300;
        top: 10%;
        right: 2%;
        position: fixed;
      }
      .price {
        position: absolute;
        right: 1%;
      }
      .qty {
        text-align: center;
      }
      .list {
        font-size: 12px;
      }
      .head {
        font-size: 10px;
      }
      .qtyhead {
        padding-right: 5%;
      }
    }
    #but {
      display: none;
    }
    #home {
      margin-top: 3%;
      position: absolute;
      left: 2%;
    }

    @media (max-width: 450px) {
      nav {
        height: 50px;
      }
      .checkout {
        display: none;
      }
      .price {
        position: absolute;
        right: 1%;
        font-size: 14px;
      }
      .qty {
        text-align: center;
        font-size: 14px;
      }
      .list {
        font-size: 14px;
      }
      .head {
        font-size: 13px;
      }
      .qtyhead {
        padding-left: 3%;
      }
      #but {
        display: block;
        color: #3d1300;
        font-weight: 600;
        border-radius: 4px;
        font-size: 15px;
        height: 80%;
        width: 40%;
        position: relative;
        top: 10%;
        left: 20%;
      }
      #home {
        margin-top: 3%;
        position: absolute;
        left: 2%;
      }
      .user-icon {
        display: block;
        position: fixed;
        top: 70%;
        right: 2%;
        height: 50px;
        width: 50px;
        border-radius: 50%;
        background-color: rgb(74, 10, 10);
        z-index: 1;
        align-items: center;
        justify-content: center;
        display: flex;
      }
      .user-icon {
        top: 79%;
      }
    }
  </style>

  <body>
    <a href="/dashboard" class="user-icon">
      <div>
        <img
          width="38"
          height="38"
          src="https://img.icons8.com/pulsar-line/48/da9f5b/user.png"
          alt="user"
        />
      </div>
    </a>
    <nav>
      <a href="/menu">
        <img
          width="30"
          height="30"
          src="https://img.icons8.com/sf-black-filled/64/da9f5b/add-shopping-cart.png"
          alt="add-shopping-cart"
          id="home"
        />
      </a>
      <p style="padding-top: 2%">Cart</p>
      <button
        id="but"
        class="btn btn-primary"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasRight"
        aria-controls="offcanvasRight"
      >
        <img
          width="20"
          height="20"
          src="https://img.icons8.com/ios-glyphs/30/3d1300/checkout.png"
          alt="checkout"
        />
        Checkout
      </button>
    </nav>
    <br /><br /><br />
    {% if orders %} {% for order in orders %}
    <br />
    <section class="order" style="padding-left: 3%">
      <div style="display: flex; padding-bottom: 1%">
        {% if order.product_name == "Hot-Black-Coffee"%}
        <div>
          <img
            width="20"
            height="20"
            src="https://img.icons8.com/ios/50/ff0000/fire-element--v1.png"
            alt="fire-element--v1"
          />
          <img
            id="img"
            src="{%static 'img/Hot-Black-Coffee.jpg' %}"
            alt=""
            width="50"
            height="50"
          />
        </div>
        {% elif order.product_name == "Cold-Black-Coffee"%}
        <div>
          <img
            width="20"
            height="20"
            src="https://img.icons8.com/ios/50/228BE6/snowflake.png"
            alt="snowflake"
          />
          <img
            id="img"
            src="{%static 'img/Hot-Black-Coffee.jpg' %}"
            alt=""
            width="50"
            height="50"
          />
        </div>
        {% elif order.product_name == "Hot-Chocolate-Coffee" %}
        <div>
          <img
            width="20"
            height="20"
            src="https://img.icons8.com/ios/50/ff0000/fire-element--v1.png"
            alt="fire-element--v1"
          />
          <img
            id="img"
            src="{%static 'img/Hot-Chocolate-Coffee.jpg' %}"
            alt=""
            width="50"
            height="50"
          />
        </div>
        {% elif order.product_name == "Cold-Chocolate-Coffee" %}
        <div>
          <img
            width="20"
            height="20"
            src="https://img.icons8.com/ios/50/228BE6/snowflake.png"
            alt="snowflake"
          />
          <img
            id="img"
            src="{%static 'img/Hot-Chocolate-Coffee.jpg' %}"
            alt=""
            width="50"
            height="50"
          />
        </div>
        {% elif order.product_name == "Hot-Coffee-with-Milk" %}
        <div>
          <img
            width="20"
            height="20"
            src="https://img.icons8.com/ios/50/ff0000/fire-element--v1.png"
            alt="fire-element--v1"
          />
          <img
            id="img"
            src="{%static 'img/Hot-Coffee-with-Milk.jpg' %}"
            alt=""
            width="50"
            height="50"
          />
        </div>
        {% elif order.product_name == "Cold-Coffee-with-Milk" %}
        <div>
          <img
            width="20"
            height="20"
            src="https://img.icons8.com/ios/50/228BE6/snowflake.png"
            alt="snowflake"
          />
          <img
            id="img"
            src="{%static 'img/Hot-Coffee-with-Milk.jpg' %}"
            alt=""
            width="50"
            height="50"
          />
        </div>
        {%endif%}
        <p
          style="
            font-family: sans-serif;
            font-weight: 600;
            font-size: 20px;
            padding-left: 1%;
            padding-top: 1%;
          "
        >
          {{ order.product_name}}
        </p>
      </div>
      <p style="font-family: sans-serif; font-weight: 600">
        Price: N{{order.price}}.00
      </p>
      <p style="font-family: sans-serif; font-weight: 600">
        Quantity: {{order.quantity}}
      </p>
      <a href="/delete_order/{{order.id}}">
        <button type="button" class="btn btn-primary mb-3">Remove</button>
      </a>
      <div class="hr"></div>
    </section>

    {%endfor%}
    <section class="checkout">
      <table>
        <tr class="head" style="color: rgb(61, 19, 0)">
          <th>Product Name</th>
          <th class="qtyhead">Quantity</th>
          <th class="price">Price</th>
        </tr>
        {% for product in products %}
        <tr class="list">
          <td>{{ product.product_name }}</td>
          <td class="qty">{{ product.total_quantity }}</td>
          <td class="price">{{ product.total_price }}</td>
        </tr>
        <a
          href="/checkout"
          style="
            position: absolute;
            bottom: 1%;
            justify-content: center;
            display: flex;
            width: 100%;
            text-decoration: none;
          "
        >
          <button
            class="btn btn-primary"
            style="
              font-family: sans-serif;
              font-weight: 600;
              width: 95%;
              height: 50px;
              background: rgb(61, 19, 0);
              color: #da9f5b;
            "
          >
            Checkout N{{order_total}}.00
          </button>
        </a>
        {%endfor%}
      </table>
    </section>

    {% else %}
    <div style="display: flex; justify-content: center; width: 100%">
      <img
        src="{%static 'cube.png' %}"
        alt=""
        width="70%"
        style="opacity: 80%"
      />
    </div>
    {% endif %}
    <!-- Part2 -->
    <div
      class="offcanvas offcanvas-end"
      tabindex="-1"
      id="offcanvasRight"
      aria-labelledby="offcanvasRightLabel"
    >
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasRightLabel">Checkout</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div class="offcanvas-body">
        <section class="checkout2">
          <table>
            <tr class="head" style="color: rgb(61, 19, 0)">
              <th>Product Name</th>
              <th class="qtyhead">Quantity</th>
              <th class="price">Price</th>
            </tr>
            <tr class="list">
              {% for product in products %}
              <td>{{ product.product_name }}</td>
              <td class="qty">{{ product.total_quantity }}</td>
              <td class="price">{{ product.total_price }}</td>
            </tr>
            <a
              href="/checkout"
              style="
                position: absolute;
                bottom: 2%;
                text-decoration: none;
                width: 100%;
              "
            >
              <button
                class="btn btn-primary"
                style="
                  font-family: sans-serif;
                  font-weight: 600;
                  width: 90%;
                  height: 50px;
                  background: rgb(61, 19, 0);
                  color: #da9f5b;
                  position: absolute;
                  bottom: 2%;
                "
              >
                Checkout N{{order_total}}.00
              </button>
            </a>
            {%endfor%}
          </table>
        </section>
      </div>
    </div>
  </body>
</html>
